- name: HelloWorld
  step:
    - ctx: sh
      req:
        command: echo hello world
      res:
        exitCode: 0
        stdout: "hello world\n"

- name: EnvExample
  step:
    - ctx: sh
      req:
        command: |
          echo CTX_ENV_KEY=${CTX_ENV_KEY}
          echo CASE_ENV_KYE=${CASE_ENV_KYE}
        envs:
          CASE_ENV_KYE: case-env-val
      res:
        exitCode: 0
        stdout: |
          CTX_ENV_KEY=ctx-env-val
          CASE_ENV_KYE=case-env-val

- name: JsonExample
  step:
    - ctx: sh
      req:
        command: |
          echo '{"key1": "val1", "key2": 2}'
        decoder: json
      res:
        exitCode: 0
        json: {
          "key1": "val1",
          "key2": 2
        }

- name: YamlExample
  step:
    - ctx: sh
      req:
        command: |
          cat << EOF
          key1: val1
          key2: 2
          key3:
            key4: val4
          EOF
        decoder: yaml
      res:
        exitCode: 0
        json: {
          "key1": "val1",
          "key2": 2,
          "key3": {
            "key4": "val4"
          }
        }

