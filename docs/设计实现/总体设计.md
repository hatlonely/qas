# 总体设计

## 背景

长久以来，在瀑布模型开发，测试，运维分工下，开发人员熟悉整个软件的所有实现细节，而测试人员更关注软件最外层的功能，
而运维人员主要关注系统的稳定性。在质量保证上，开发人员主要负责代码级别的单元测试，测试人员负责系统级别的功能测试。

这样的分工也影响了技术的发展方向，大部分的功能测试框架是面向测试人员甚至更上层的业务人员设计的，目标让测试 case 更接近于自然语言，
这个目标其实需要付出很多额外的成本，在 behave 框架里面，测试人员需要写很多额外的 case 驱动来实现特定业务逻辑的测试，
而自然语言风格的 case 其实对开发人员很不友好，特别是在构造复杂 case 的场景下，自然语言实际上非常难以描述。

随着 devops 研发模式的兴起，开发测试运维职责的统一，对功能测试框架的需求也发生了变化，测试人员不再是只关注于功能专业测试，
同时也是熟悉整个软件实现细节的开发人员，测试框架对自然语言不再有强烈的需求，而对测试开发的效率以及复杂的业务场景的代码化描述有了更强的需求。

qas 就是为了解决 devops 的功能测试问题，通过 yaml 来描述测试的执行过程和结果校验，以驱动的方式拓展服务的后端，自动生成测试报告。


## 设计目标

- 简单
- 高效
- 清晰

## 总体设计

![qas-架构](/docs/assets/qas-架构.png)

总体来说，`qas` 接收 `yaml` 文件编写 `case`，构造请求访问测试和测试服务的依赖，验证结果的返回，统计 `case` 的运行结果，最终输出测试报告

主要分为几个模块

- `Framework`: 框架模块，负责主要的流程处理和结果统计
- `Driver`: 驱动模块，负责访问各个后端
- `Reporter`: 报告模块，负责测试报告的输出
